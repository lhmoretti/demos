<!-- Comienzo de tabla -->
<div class="row">
    <div class="col-md-7 col-sm-12"></div>

    <div class="col-md-2 col-sm-12">
        <button
            class="btn btn-primary btn-sm float-right m-1"
            (click)="new()"
            data-toggle="modal"
            data-target="#modmarc"
        >
            <i class="fas fa-plus"></i> Agregar nueva
        </button>
    </div>

    <div class="col-md-3 col-sm-12">
        <select
            id="com"
            class="form-control form-control-sm m-1"
            [(ngModel)]="idComercio"
            (change)="getByComercio()"
        >
            <option *ngFor="let c of arrComercios" [value]="c.id">
                {{ c.nombre }}
            </option>
        </select>
    </div>
</div>

<section>
    <div class="row">
        <div class="table-responsive text-nowrap text-center">
            <table class="table table-sm table-hover">
                <thead class="thead-dark">
                    <tr>
                        <!-- <th scope="col">#</th> -->
                        <th scope="col">Marca</th>
                        <th scope="col">Comercio</th>
                        <th scope="col">Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let mar of arrMarcas">
                        <!-- <td>{{mar.id}}</td> -->
                        <td>{{ mar.marca }}</td>
                        <td>{{ mar.comercioId.nombre }}</td>
                        <td>
                            <button
                                class="btn btn-primary btn-sm m-1"
                                (click)="passObj(mar)"
                                data-toggle="modal"
                                data-target="#modmarc"
                            >
                                <i class="fas fa-edit"></i>
                            </button>
                            <button
                                class="btn btn-danger btn-sm m-1"
                                (click)="delete(mar.id)"
                            >
                                <i class="far fa-trash-alt"></i>
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>

            <div *ngIf="showLoading" class="mt-3">
                <img src="assets/images/loading.gif" width="120" height="120" />
            </div>
        </div>
    </div>
</section>

<div
    *ngIf="marca"
    class="modal fade"
    id="modmarc"
    tabindex="-1"
    role="dialog"
    aria-labelledby="modmarc"
    aria-hidden="true"
>
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Marca</h5>
                <button
                    type="button"
                    class="close"
                    data-dismiss="modal"
                    aria-label="Close"
                >
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form [formGroup]="marca" (ngSubmit)="send()">
                    <div class="row">
                        <div class="col-md-6 col-sm-6">
                            <label
                                ><b style="color: red">*</b>Descripci√≥n</label
                            >
                            <input
                                type="text"
                                maxlength="20"
                                class="form-control form-control-sm"
                                placeholder="Marca"
                                formControlName="marca"
                                required
                            />
                        </div>
                        <div class="col-md-6 col-sm-6">
                            <label for="com"
                                ><b style="color: red">*</b>Comercio</label
                            >
                            <select
                                [compareWith]="compareComercio"
                                id="com"
                                class="form-control form-control-sm"
                                formControlName="comercioId"
                                required
                            >
                                <option
                                    *ngFor="let c of arrComercios"
                                    [ngValue]="c"
                                >
                                    {{ c.nombre }}
                                </option>
                            </select>
                        </div>
                        <div class="col-md-12 col-sm-12 mt-2">
                            <button
                                type="submit"
                                class="btn btn-sm btn-success float-right"
                                [disabled]="!marca.valid"
                            >
                                Confirmar
                            </button>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button
                    type="button"
                    class="btn btn-sm btn-secondary"
                    data-dismiss="modal"
                >
                    Cerrar
                </button>
            </div>
        </div>
    </div>
</div>
